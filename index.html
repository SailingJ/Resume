<!DOCTYPE html>

<head>
  <title>我的简历</title>
  <script src="//at.alicdn.com/t/font_1141038_nljfb9hihpb.js"></script>

  <style type="text/css">
    .icon {
      width: 1em;
      height: 1em;
      vertical-align: -0.15em;
      fill: currentColor;
      overflow: hidden;
    }
  </style>
</head>

<body>

  <div class="topNavBarLayout">
    <div id="topNavBar" class="topNavBar clearfix">
      <a class="logo" href="#" alt="logo">
        <span class="RS">RS</span><span class="card">card</span>
      </a>
      <nav>
        <ul class="clearfix">
          <li class="menuTigger"><a href="#siteAbout">关于</a></li>
          <li class="menuTigger"><a href="#siteSkills">技能</a></li>
          <li class="menuTigger"><a href="#sitePortfolio">作品</a>
            <ul class="submenu">
              <li>作品1</li>
              <li>作品2</li>
              <li>作品3</li>
            </ul>
          </li>
          <li class="menuTigger"><a href="#">博客</a>
            <ul class="submenu">
              <li>博客1</li>
              <li>博客2</li>
              <li>博客3</li>
            </ul>
          </li>
          <li class="menuTigger"><a href="#">日历</a></li>
          <li class="menuTigger"><a href="#">联系方式</a></li>
          <li class="menuTigger"><a href="#">其他</a>
            <ul class="submenu">
              <li>其他1</li>
              <li>其他2</li>
              <li>其他3</li>
            </ul>
          </li>
        </ul>
      </nav>
    </div>
  </div>
  <div class="banner">
    <div class="banner-mask"></div>
  </div>
  <link rel="stylesheet" href="./a.css">
  <main>
    <div data-x class="namecard" id="siteAbout">
      <div class="pictureANDtext clearfix">
        <div class="picture">
          <img src="./img/头像.jpg" alt="头像" class="头像">
        </div>
        <div class="text">
          <div class="profile">
            <span class="welcome">hello</span>
            <div class="triangle"></div>
            <h1>简焯毅</h1>
            <p>毕业作业</p>
            <hr>
            <dl>
              <dt>年龄</dt>
              <dd>18</dd>
              <dt>所在城市</dt>
              <dd>广州</dd>
              <dt>邮箱</dt>
              <dd>443812174@qq.com</dd>
              <dt>手机</dt>
              <dd>15915800486</dd>
            </dl>
          </div>
        </div>
      </div>
      <footer class="media">
        <a href="#">
          <svg class="icon" aria-hidden="true">
            <use xlink:href="#icon-qq"></use>
          </svg>
        </a>
        <a href="#">
          <svg class="icon" aria-hidden="true">
            <use xlink:href="#icon-weixin"></use>
          </svg>
        </a>
        <a href="#">
          <svg class="icon" aria-hidden="true">
            <use xlink:href="#icon-weibo"></use>
          </svg>
        </a>
      </footer>
    </div>
    <div class="buttom">
      <a class="buttom-text" href="./download/pdf简历.txt" download>下载 PDF 简历</a>
    </div>
    <p class="selfIntroduction">
      简焯毅，未来前端工程师，现在受苦<br>
      未来技能：前端开发，Node.js开发
    </p>

  </main>

  <section>
    <div data-x class="skills" id="siteSkills">
      <h2>技能</h2>
      <ol class="clearfix">
        <li>
          <h3>HTML 5 & CSS3</h3>
          <div class="progressBar">
            <div class="progress1" style="width: 50%"></div>
          </div>
        </li>
        <li>
          <h3>HTML 5 & CSS3</h3>
          <div class="progressBar">
            <div class="progress2" style="width: 60%"></div>
          </div>
        </li>
        <li>
          <h3>HTML 5 & CSS3</h3>
          <div class="progressBar">
            <div class="progress3" style="width: 70%"></div>
          </div>
        </li>
        <li>
          <h3>HTML 5 & CSS3</h3>
          <div class="progressBar">
            <div class="progress4" style="width: 80%"></div>
          </div>
        </li>
        <li>
          <h3>HTML 5 & CSS3</h3>
          <div class="progressBar">
            <div class="progress5" style="width: 60%"></div>
          </div>
        </li>
        <li>
          <h3>HTML 5 & CSS3</h3>
          <div class="progressBar">
            <div class="progress6" style="width: 70%"></div>
          </div>
        </li>

      </ol>
    </div>
    <div data-x class="portfolio" id="sitePortfolio">
      <h2>作品集</h2>
      <nav class="portfolioNav">
        <ol class="clearfix">
          <li id="portfolioAll">所有</li>
          <li id="portfolioFramework">框架</li>
          <li id="portfolioVallina">原生JS&amp;CSS</li>
        </ol>
        <div id="portfolioBar" class="Bar status1">
          <div class="portfolioBar-inner"></div>
        </div>
      </nav>
      <script>
        portfolioAll.onclick = function () {
          portfolioBar.className = "Bar status1"
        }
        portfolioFramework.onclick = function () {
          portfolioBar.className = "Bar status2"
        }
        portfolioVallina.onclick = function () {
          portfolioBar.className = "Bar status3"
        }
        //滚动 导航栏动画
        //添加offset类
         let specialTags = document.querySelectorAll('div[data-x]')
         for (let i = 0; i < specialTags.length; i++) {
            specialTags[i].classList.add('offset')
          }          
          yyy()
        window.onscroll = function () {
          //console.log('滚了' + window.scrollY)
          if (window.scrollY > 0) {
            topNavBar.classList.add('Scroll')
          } else {
            topNavBar.classList.remove('Scroll')
          }
          yyy()
        }

          function yyy(){//滚动高光上划
            let specialTags = document.querySelectorAll('div[data-x]')       
          let minIndex = 0
          for (let i = 0; i < specialTags.length; i++) {
            if (Math.abs(specialTags[i].offsetTop - window.scrollY) < Math.abs(specialTags[minIndex].offsetTop - window.scrollY)) {
              minIndex = i
            }
          }
          specialTags[minIndex].classList.remove('offset')
          for (let i = 0; i < specialTags.length; i++) {
            specialTags[i].classList.remove('highline')
          } //先清除所有的active 再添加对应div的active
          specialTags[minIndex].classList.add('highline')
          let currentElement = specialTags[minIndex].id
          let shabi = document.querySelector('a[href="#' + currentElement + '"]')
          let siblingLi = shabi.parentNode.parentNode.children
          for (let i = 0; i < siblingLi.length; i++) {
            siblingLi[i].classList.remove('highlight')
          }
          shabi.parentElement.classList.add('highlight')  
          }
          
          
        
        // 监听导航栏标签
        let liTags = document.getElementsByClassName('menuTigger')
        for (let i = 0; i < liTags.length; i++) {
          liTags[i].onmouseenter = function (x) {
            x.currentTarget.classList.add('active')
          }
          liTags[i].onmouseleave = function (x) {
            x.currentTarget.classList.remove('active')
          }
        }
        //navBar点击跳转
        //获取特定标签(a)的信息
        let aTags = document.querySelectorAll('nav >ul >li >a')
        for (let i = 0; i < aTags.length; i++) {
          aTags[i].onclick = function (x) {
            x.preventDefault()
            let a = x.currentTarget
            let href = a.getAttribute('href') // 获取a标签中'href'的属性
            let element = document.querySelector(href) // 新建一个对象element 内容是 href 为选择器 选择的文档
            let rect = element.getBoundingClientRect() //通过bugger 访问内部元素 再通过getB 获取top信息 左上角正方形+右下角正方形定位
            let top = element.offsetTop //新建一个top对象，获取element里面的top 其中（如果top随滚动的变化而变化，offsetTop则是绝对位置，兼容IE）           
            let currentTop = window.scrollY
            let targetTop = top - 70
            let s = targetTop - currentTop
            let t = Math.abs((s / 100) * 200)
            if (t > 500) {
              t = 500
            }
            function animate(time) {
              requestAnimationFrame(animate);
              TWEEN.update(time);
            }
            requestAnimationFrame(animate);
            var coords = { y: currentTop };
            var tween = new TWEEN.Tween(coords)
              .to({ y: targetTop }, t)
              .easing(TWEEN.Easing.Quadratic.InOut)
              .onUpdate(() => {
                window.scrollTo(0, coords.y)
              })
              .start();
          }
        }

      </script>
      <div class="works">
        <div class="big">
          <img src="./img/big.jpg" alt="作品1">
        </div>
        <div class="small1">
          <img src="./img/small1.jpg" alt="作品2">
        </div>
        <div class="small2">
          <img src="./img/small2.jpg" alt="作品3">
        </div>
      </div>

  </section>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/tween.js/17.1.1/Tween.min.js"></script>
</body>